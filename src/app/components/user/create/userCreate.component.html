<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
  <h1 class="p-5 text-lg font-semibold text-center text-gray-900 bg-white">
    Create New User Account
  </h1>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="w-2/3 mx-auto">
    <!-- First Name -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">First Name</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="text"
          formControlName="firstName"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter First Name"
        />
        <p *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched) && firstName?.errors?.['required']" class="mt-1 text-sm text-red-600">
          First name is required
        </p>
        <p *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched) && firstName?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
          First name must be at least 3 characters
        </p>
      </div>
    </div>

    <!-- Last Name -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">Last Name</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="text"
          formControlName="lastName"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter Last Name"
        />
        <p *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched) && lastName?.errors?.['required']" class="mt-1 text-sm text-red-600">
          Last name is required
        </p>
        <p *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched) && lastName?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
          Last name must be at least 3 characters
        </p>
      </div>
    </div>

    <!-- Email -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">Email</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="email"
          formControlName="email"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter Email"
        />
        <p *ngIf="email?.invalid && (email?.dirty || email?.touched) && email?.errors?.['required']" class="mt-1 text-sm text-red-600">
          Email is required
        </p>
        <p *ngIf="email?.invalid && (email?.dirty || email?.touched) && email?.errors?.['email']" class="mt-1 text-sm text-red-600">
          Please enter a valid email
        </p>
        <p *ngIf="email?.invalid && (email?.dirty || email?.touched) && email?.errors?.['serverError']" class="mt-1 text-sm text-red-600">
          {{ email?.errors?.['serverError'] }}
        </p>
      </div>
    </div>

    <!-- Password -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">Password</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="password"
          formControlName="password"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter Password"
        />
        <p *ngIf="password?.invalid && (password?.dirty || password?.touched) && password?.errors?.['required']" class="mt-1 text-sm text-red-600">
          Password is required
        </p>
        <p *ngIf="password?.invalid && (password?.dirty || password?.touched) && password?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
          Password must be at least 8 characters
        </p>
      </div>
    </div>

    <!-- Role -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">Role</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <select
          formControlName="role"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
        >
          <option value="" selected>Choose Role</option>
          <option value="JURY">Jury</option>
          <option value="MEMBER">Member</option>
        </select>
        <p *ngIf="role?.invalid && (role?.dirty || role?.touched) && role?.errors?.['required']" class="mt-1 text-sm text-red-600">
          Role is required
        </p>
      </div>
    </div>

    <!-- Nationality -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">Nationality</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="text"
          formControlName="nationality"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter Nationality"
        />
        <p *ngIf="nationality?.invalid && (nationality?.dirty || nationality?.touched) && nationality?.errors?.['required']" class="mt-1 text-sm text-red-600">
          Nationality is required
        </p>
        <p *ngIf="nationality?.invalid && (nationality?.dirty || nationality?.touched) && nationality?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
          Nationality must be at least 3 characters
        </p>
      </div>
    </div>

    <!-- CIN -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">CIN</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="text"
          formControlName="cin"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
          placeholder="Enter CIN"
        />
        <p *ngIf="cin?.invalid && (cin?.dirty || cin?.touched) && cin?.errors?.['required']" class="mt-1 text-sm text-red-600">
          CIN is required
        </p>
        <p *ngIf="cin?.invalid && (cin?.dirty || cin?.touched) && cin?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
          CIN must be at least 3 characters
        </p>
      </div>
    </div>

    <!-- License Expiration Date -->
    <div class="relative mb-6">
      <label class="flex items-center mb-2 text-gray-600 text-sm font-medium">License Expiration Date</label>
      <div class="relative text-gray-500 focus-within:text-gray-900">
        <input
          type="datetime-local"
          formControlName="licenseExpirationDate"
          class="block w-full h-11 px-4 py-2.5 text-base font-normal shadow-xs text-gray-900 bg-transparent border border-gray-300 rounded-full placeholder-gray-400 focus:outline-none"
        />
        <p *ngIf="licenseExpirationDate?.invalid && (licenseExpirationDate?.dirty || licenseExpirationDate?.touched) && licenseExpirationDate?.errors?.['required']" class="mt-1 text-sm text-red-600">
          License expiration date is required
        </p>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="flex items-center justify-center">
      <button
        type="submit"
        [disabled]="!userForm.valid || isLoading"
        class="w-52 h-12 shadow-sm rounded-full bg-indigo-600 hover:bg-indigo-800 transition-all duration-700 text-white text-base font-semibold leading-7"
      >
        {{ isLoading ? "Creating..." : "Create Account" }}
      </button>
    </div>
  </form>
</div>
